# Dark/Light Mode Next.js Setup

## Eine moderne Next.js 16+ App mit voll funktionsf√§higem Dark/Light Mode Toggle, erstellt mit Tailwind CSS 4+ und next-themes.

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT) [![JavaScript](https://img.shields.io/badge/JavaScript-‚úì-F7DF1E.svg?logo=javascript&logoColor=black)](https://developer.mozilla.org/de/docs/Web/JavaScript)  
[![Next.js](https://img.shields.io/badge/Next.js-‚úì-000000.svg?logo=next.js)](https://nextjs.org/) [![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-‚úì-06B6D4.svg?logo=tailwindcss)](https://tailwindcss.com/) [![React Icons](https://img.shields.io/badge/React_Icons-‚úì-E91E63.svg?logo=react)](https://react-icons.github.io/react-icons/) [![next-themes](https://img.shields.io/badge/next--themes-‚úì-000000.svg)](https://www.npmjs.com/package/next-themes)

## üì¶ Paketinformation

### **next-themes** - Theme Management f√ºr Next.js
**next-themes** [![npm version](https://img.shields.io/npm/v/next-themes.svg)](https://www.npmjs.com/package/next-themes)

**Version in diesem Projekt:** `0.4.6`
**npm-package:** [https://www.npmjs.com/package/next-themes](https://github.com/pacocoursey/next-themes)
**repository:** [github.com/pacocoursey/next-themes](https://github.com/pacocoursey/next-themes)

---
## Quick Start

### 1Ô∏è‚É£ Projekt erstellen
```bash
npx create-next-app@latest [app-name]
```

### 2Ô∏è‚É£ In Projekt wechseln
```bash
cd [app-name]
```

### 3Ô∏è‚É£ Abh√§ngigkeiten installieren
```bash
npm install react-icons next-themes@0.4.6
```

### 4Ô∏è‚É£ Server starten
```bash
npm run dev
```
‚Üí √ñffne [http://localhost:3000](http://localhost:3000)

---

## üé® Dark/Light Mode Implementierung

**‚ö†Ô∏è WICHTIG:** Diese Anleitung funktioniert spezifisch mit:
- **Next.js 16+** 
- **Tailwind CSS 4+**

### Schritt 1: Ordnerstruktur vorbereiten

```bash
mkdir -p app/theme
mkdir -p app/components
```

### Schritt 2: Theme Provider erstellen

Erstelle `app/theme/providers.js`:

```javascript
// app/theme/providers.js
'use client'

import { ThemeProvider } from 'next-themes'

export function Providers({ children }) {
  return (
    <ThemeProvider attribute="class" defaultTheme="light">
      {children}
    </ThemeProvider>
  )
}
```

### Schritt 3: Theme-Toggle Komponente erstellen

Erstelle `app/components/theme-toggle.js`:

```javascript
// app/components/theme-toggle.js
'use client';

import { IoSunnyOutline, IoMoonOutline } from "react-icons/io5";
import { useTheme } from 'next-themes';

export default function ThemeToggle() {
  const { theme, setTheme, systemTheme } = useTheme();
  
  // Kein useEffect, kein mounted State!
  // next-themes hat built-in loading
  
  // Wenn theme undefined (noch nicht geladen), nichts rendern
  if (!theme) {
    return (
      <div className="p-2 text-3xl">
        <div className="w-8 h-8 rounded-full bg-gray-300 animate-pulse"></div>
      </div>
    );
  }

  // Entscheide welches Icon angezeigt wird
  const displayTheme = theme === 'system' ? systemTheme : theme;

  return (
    <button
      onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
      className="p-2 text-3xl text-gray-800 dark:text-gray-200 hover:text-blue-600 dark:hover:text-cyan-500 duration-300 hover:cursor-pointer hover:scale-110 transition-transform"
      aria-label={`Switch to ${theme === 'dark' ? 'light' : 'dark'} mode`}
    >
      {displayTheme === 'dark' ? <IoSunnyOutline /> : <IoMoonOutline />}
    </button>
  );
}
```

### Schritt 4: Globale CSS anpassen (Tailwind 4+ Syntax)

In Tailwind CSS 4+ verwenden wir die `@variant` Syntax. Stelle sicher, dass `app/globals.css` Folgendes enth√§lt:

```css
@import "tailwindcss";

@variant dark (&:where(.dark, .dark *));
```

### Schritt 5: Layout Datei anpassen (Next.js 16+)

**ACHTUNG Next.js 16+:** Wir verwenden direkt den `ThemeProvider` von `next-themes` im Layout:

```javascript
// app/layout.js
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";
import { ThemeProvider } from "next-themes";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({ children }) {
  return (
    <html lang="en" suppressHydrationWarning> {/* KRITISCH f√ºr Next.js 16+ */}
      <body className={`${geistSans.variable} ${geistMono.variable}`}>
        <ThemeProvider
          attribute="class" {/* Setzt .dark Klasse auf html Element */}
        >
          {children}
        </ThemeProvider>
      </body>
    </html>
  );
}
```

### Schritt 6: Theme-Toggle in der App verwenden

F√ºge den Toggle in `app/page.js` ein:

```javascript
// app/page.js
import ThemeToggle from './components/theme-toggle';

export default function Home() {
  return (
    <div className="min-h-screen bg-white dark:bg-gray-900 text-black dark:text-white p-8">
      <div className="flex justify-end mb-8">
        <ThemeToggle />
      </div>
      
      <h1 className="text-4xl font-bold mb-4">Dark/Light Mode Demo</h1>
      <p className="text-lg">Next.js 16+ mit Tailwind CSS 4+</p>
      
      <div className="mt-8 p-6 bg-gray-100 dark:bg-gray-800 rounded-lg">
        <h2 className="text-2xl font-semibold mb-2">Funktioniert!</h2>
        <p>Dark Mode Klassen funktionieren mit der neuen Tailwind 4 Syntax.</p>
      </div>
    </div>
  );
}
```

---

## ‚úÖ Fertig!

Deine App sollte jetzt:

1. üåì Einen Theme-Toggle Button haben
2. üîÑ Zwischen Dark und Light Mode wechseln
3. üíæ Die Pr√§ferenz im Browser speichern
4. üöÄ Ohne Hydration-Fehler laufen (kritisch f√ºr Next.js 16+)

---

## üéØ Wichtige Punkte f√ºr Next.js 16+ & Tailwind 4+

1. **`suppressHydrationWarning`** ist **ESSENTIELL** in Next.js 16+ 
2. **Tailwind 4+** verwendet `@variant dark` statt `@tailwind base` etc.
3. `ThemeProvider` mit `attribute="class"` ist die korrekte Methode
4. Dark Mode Klassen: `dark:bg-gray-900`, `dark:text-white`, etc.
5. `next-themes` 0.4.6 hat built-in Handling

---

## üîß Version-Check

√úberpr√ºfe deine Versionen:
```bash
# Next.js Version
npm list next

# Tailwind CSS Version
npm list tailwindcss

# Sollte zeigen:
# next@16.x.x
# tailwindcss@4.x.x
```

---

## üö® Fehlerbehebung

**Hydration Error in Next.js 16:**
- Sicherstellen, dass `suppressHydrationWarning` im `<html>` Tag steht
- `next-themes@0.4.6` oder h√∂her verwenden

**Tailwind Dark Classes funktionieren nicht:**
- Pr√ºfe ob `@variant dark (&:where(.dark, .dark *));` in `globals.css` steht
- Browser Cache leeren

---
